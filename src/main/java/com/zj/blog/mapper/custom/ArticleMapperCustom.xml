<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zj.blog.mapper.custom.ArticleMapperCustom" >

<resultMap id="BaseResultMap" type="com.zj.blog.pojo.custom.ArticleCustom" >
    <id column="article_id" property="articleId" jdbcType="INTEGER" />
    <result column="article_user_id" property="articleUserId" jdbcType="INTEGER" />
    <result column="article_title" property="articleTitle" jdbcType="VARCHAR" />
    <result column="article_parent_category_id" property="articleParentCategoryId" jdbcType="INTEGER" />
    <result column="article_child_category_id" property="articleChildCategoryId" jdbcType="INTEGER" />
    <result column="article_tag_ids" property="articleTagIds" jdbcType="VARCHAR" />
    <result column="article_view_count" property="articleViewCount" jdbcType="INTEGER" />
    <result column="article_comment_count" property="articleCommentCount" jdbcType="INTEGER" />
    <result column="article_like_count" property="articleLikeCount" jdbcType="INTEGER" />
    <result column="article_post_time" property="articlePostTime" jdbcType="TIMESTAMP" />
    <result column="article_update_time" property="articleUpdateTime" jdbcType="TIMESTAMP" />
    <result column="article_is_comment" property="articleIsComment" jdbcType="INTEGER" />
    <result column="article_status" property="articleStatus" jdbcType="INTEGER" />
    <result column="article_order" property="articleOrder" jdbcType="INTEGER" />
    
    <result column="article_content" property="articleContent" jdbcType="LONGVARCHAR" />
  </resultMap>
 
    <sql id="article_table_all_columns">
        article_id,
        article_user_id,
        article_title,
        article_content,
        article_parent_category_id,
        article_child_category_id,
        article_tag_ids,
        article_view_count,
        article_comment_count,
        article_like_count,
        article_post_time,
        article_update_time,
        article_is_comment,
        article_status,
        article_order
    </sql>
 
 
 <!--获得所有文章-->
    <select id="listArticle" resultType="com.zj.blog.pojo.custom.ArticleCustom">
        SELECT
        <include refid="article_table_all_columns"/>
        FROM
        `article`
        <where>
            <if test="status!=null">
                article_status=#{status}
            </if>
        </where>
        ORDER BY article_status ASC, article_order DESC, article_id DESC
    </select>


</mapper>